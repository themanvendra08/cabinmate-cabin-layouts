<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manikonda Layout</title>
    <script type="text/javascript" src="../../UI/axpertUI/plugins.bundle.js"></script>
    <script type="text/javascript" src="../../UI/axpertUI/scripts.bundle.js"></script>
    <script type="text/javascript" src="../../Js/noConflict.min.js"></script>
    <script type="text/javascript" src="../../ThirdParty/jquery-confirm-master/jquery-confirm.min.js"></script>
    <script type="text/javascript" src="../../Js/alerts.min.js"></script>
    <script type="text/javascript" src="../../Js/common.min.js?v=13301"></script>
    <script src="../../AxpertAPIs/js/AxpertAPIs.js?v=1"></script>
    <link type="text/css" rel="stylesheet" href="../../cabinmate/HTMLPages/Css/layout.css?v=1730965694092">


    <link type="text/css" rel="stylesheet" href="../../cabinmate/HTMLPages/Css/_1730785003560.css?v=1732094448302">
    <style>
        .tooltip-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        /* Tooltip text */
        .tooltip-container .tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: rgb(104, 104, 104);
            color: #fff;
            text-align: center;
            writing-mode: horizontal-tb;
            padding: 5px;
            border-radius: 5px;

            /* Positioning */
            position: absolute;
            z-index: 1;
            bottom: 125%;
            /* Show above the container */
            left: 50%;
            transform: translateX(-50%);

            /* Animation */
            opacity: 0;
            transition: opacity 0.3s;
        }

        /* Show tooltip on hover */
        .tooltip-container:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .expiring {
            background-color: #ff0000;
            color: white;
            border: none;
        }

        .soon {
            background-color: #ff9900;
            color: white;
            border: none;
        }

        ::-webkit-scrollbar {
            width: 0;
        }

        .verticalSeat:hover:has(.available) {
            background-color: #32755c;
            color: white;
        }

        .horizontalSeat:hover:has(.available) {
            background-color: #32755c;
            color: white;
        }
    </style>

</head>

<body>
    <h2 style="text-align: center;">Manikonda Cabins Seat Occupancies</h2>
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>
    <div style="width:1100px;display: flex;
        justify-content: center;
        align-items: center;">
        <!-- seating -->
        <div style="position:relative; width:1250px; height:1200px; margin: auto">

            <div style="
        position: absolute;
        left: 55rem;
        bottom: 30rem;
        width: 34rem;
        height: 35rem;
        border-top: 1.5rem solid #E0E0E0;   /* Top horizontal wall */
        border-right: 1.5rem solid #E0E0E0; /* Vertical wall */
        border-bottom: 1.5rem solid #E0E0E0; /* Bottom horizontal wall */
        box-sizing: border-box; ">
                <!-- upper seating -->
                <div>
                    <div style="display:flex;position: absolute; top: 0rem; margin-left: 50px;gap:0.3rem;">
                        <div id="1" class="verticalSeat AC">1</div>
                        <div id="2" class="verticalSeat AC">2</div>
                        <div id="3" class="verticalSeat AC">3</div>
                        <div id="4" class="verticalSeat AC">4</div>
                        <div id="5" class="verticalSeat AC">5</div>
                        <div id="6" class="verticalSeat AC">6</div>
                        <div id="7" class="verticalSeat AC">7</div>
                        <div id="8" class="verticalSeat AC">8</div>
                        <div id="9" class="verticalSeat AC">9</div>
                        <div id="10" class="verticalSeat AC">10</div>
                        <div id="11" class="verticalSeat AC">11</div>
                        <div id="12" class="verticalSeat AC">12</div>
                        <div id="13" class="verticalSeat AC">13</div>
                        <div id="14" class="verticalSeat AC">14</div>
                    </div>
                    <div class="seating_vertical" style="position: absolute; top:1.5rem; left: 30rem; gap:0.3rem">
                        <div id="15" class="horizontalSeat AC">15</div>
                        <div id="16" class="horizontalSeat AC">16</div>
                        <div id="17" class="horizontalSeat AC">17</div>
                        <div id="18" class="horizontalSeat AC">18</div>
                        <div id="19" class="horizontalSeat AC">19</div>
                        <div id="20" class="horizontalSeat AC">20</div>
                        <div id="21" class="horizontalSeat AC">21</div>
                    </div>
                    <div style="display: flex;gap: 40px;padding-top:5pc;margin-left:50px;">
                        <div>
                            <div style="display: flex;gap:0.3rem;">
                                <div id="48" class="verticalSeat AC">48</div>
                                <div id="49" class="verticalSeat AC">49</div>
                                <div id="50" class="verticalSeat AC">50</div>
                                <div id="51" class="verticalSeat AC">51</div>
                                <div id="52" class="verticalSeat AC">52</div>
                                <div id="53" class="verticalSeat AC">53</div>
                            </div>
                            <div style="display: flex;gap:0.3rem;margin-top:0.3rem;">
                                <div id="47" class="verticalSeat AC">47</div>
                                <div id="46" class="verticalSeat AC">46</div>
                                <div id="45" class="verticalSeat AC">45</div>
                                <div id="44" class="verticalSeat AC">44</div>
                                <div id="43" class="verticalSeat AC">43</div>
                                <div id="42" class="verticalSeat AC">42</div>
                            </div>
                        </div>

                        <div>
                            <div style="display: flex;gap:0.3rem;">
                                <div id="54" class="verticalSeat AC">54</div>
                                <div id="55" class="verticalSeat AC">55</div>
                                <div id="56" class="verticalSeat AC">56</div>
                                <div id="57" class="verticalSeat AC">57</div>
                                <div id="58" class="verticalSeat AC">58</div>
                                <div id="59" class="verticalSeat AC">59</div>
                            </div>
                            <div style="display: flex;gap:0.3rem; margin-top:0.3rem;">
                                <div id="41" class="verticalSeat AC">41</div>
                                <div id="40" class="verticalSeat AC">40</div>
                                <div id="39" class="verticalSeat AC">39</div>
                                <div id="38" class="verticalSeat AC">38</div>
                                <div id="37" class="verticalSeat AC">37</div>
                                <div id="36" class="verticalSeat AC">36</div>
                            </div>
                        </div>
                    </div>
                    <!-- second liner -->

                    <div style="display: flex;margin-top:50px;margin-left:50px;gap:0.3rem;">
                        <div id="35" class="verticalSeat AC">35</div>
                        <div id="34" class="verticalSeat AC">34</div>
                        <div id="33" class="verticalSeat AC">33</div>
                        <div id="32" class="verticalSeat AC">32</div>
                        <div id="31" class="verticalSeat AC">31</div>
                        <div id="30" class="verticalSeat AC">30</div>
                        <div id="29" class="verticalSeat AC">29</div>
                        <div id="28" class="verticalSeat AC">28</div>
                        <div id="27" class="verticalSeat AC">27</div>
                        <div id="26" class="verticalSeat AC">26</div>
                        <div id="25" class="verticalSeat AC">25</div>
                        <div id="24" class="verticalSeat AC">24</div>
                        <div id="23" class="verticalSeat AC">23</div>
                        <div id="22" class="verticalSeat AC">22</div>
                    </div>
                </div>
                <!-- lower seating -->
                <div>
                    <div style="display:flex;position: absolute; top: 16.5rem; margin-left: 50px; gap: 0.3rem;">
                        <div id="60" class="verticalSeat Non-AC">60</div>
                        <div id="61" class="verticalSeat Non-AC">61</div>
                        <div id="62" class="verticalSeat Non-AC">62</div>
                        <div id="63" class="verticalSeat Non-AC">63</div>
                        <div id="64" class="verticalSeat Non-AC">64</div>
                        <div id="65" class="verticalSeat Non-AC">65</div>
                        <div id="66" class="verticalSeat Non-AC">66</div>
                        <div id="67" class="verticalSeat Non-AC">67</div>
                        <div id="68" class="verticalSeat Non-AC">68</div>
                        <div id="69" class="verticalSeat Non-AC">69</div>
                        <div id="70" class="verticalSeat Non-AC">70</div>
                        <div id="71" class="verticalSeat Non-AC">71</div>
                        <div id="72" class="verticalSeat Non-AC">72</div>
                        <div id="73" class="verticalSeat Non-AC">73</div>
                    </div>
                    <div class="seating_vertical" style="position: absolute; top:17.5rem; left: 30rem; gap:0.3rem">
                        <div id="74" class="horizontalSeat">74</div>
                        <div id="75" class="horizontalSeat">75</div>
                        <div id="76" class="horizontalSeat">76</div>
                        <div id="77" class="horizontalSeat">77</div>
                        <div id="78" class="horizontalSeat">78</div>
                        <div id="79" class="horizontalSeat">79</div>
                        <div id="80" class="horizontalSeat">80</div>
                    </div>
                    <div style="display: flex;padding-top:5.5pc;margin-left: 50px;gap:0.3rem">
                        <div>
                            <div style="display: flex;gap:0.3rem">
                                <div id="81" class="verticalSeat Non-AC">81</div>
                                <div id="82" class="verticalSeat Non-AC">82</div>
                                <div id="83" class="verticalSeat Non-AC">83</div>
                                <div id="84" class="verticalSeat Non-AC">84</div>
                                <div id="85" class="verticalSeat Non-AC">85</div>
                                <div id="86" class="verticalSeat Non-AC">86</div>
                                <div id="87" class="verticalSeat Non-AC">87</div>

                            </div>
                            <div></div>
                            <div style="display: flex;gap:0.3rem;margin-top:0.3rem;">
                                <div id="88" class="verticalSeat Non-AC">88</div>
                                <div id="89" class="verticalSeat Non-AC">89</div>
                                <div id="90" class="verticalSeat Non-AC">90</div>
                                <div id="91" class="verticalSeat Non-AC">91</div>
                                <div id="92" class="verticalSeat Non-AC">92</div>
                                <div id="93" class="verticalSeat Non-AC">93</div>
                                <div id="94" class="verticalSeat Non-AC">94</div>

                            </div>
                        </div>

                        <div>
                            <div style="display: flex;gap:0.3rem">
                                <div id="95" class="verticalSeat Non-AC">95</div>
                                <div id="96" class="verticalSeat Non-AC">96</div>
                                <div id="97" class="verticalSeat Non-AC">97</div>
                                <div id="98" class="verticalSeat Non-AC">98</div>
                                <div id="99" class="verticalSeat Non-AC">99</div>
                                <div id="100" class="verticalSeat Non-AC">100</div>
                                <div id="101" class="verticalSeat Non-AC">101</div>
                            </div>
                            <div style="display: flex;gap:0.3rem;margin-top:0.3rem;">
                                <div id="102" class="verticalSeat Non-AC">102</div>
                                <div id="103" class="verticalSeat Non-AC">103</div>
                                <div id="104" class="verticalSeat Non-AC">104</div>
                                <div id="105" class="verticalSeat Non-AC">105</div>
                                <div id="106" class="verticalSeat Non-AC">106</div>
                                <div id="107" class="verticalSeat Non-AC">107</div>
                                <div id="108" class="verticalSeat Non-AC">108</div>
                            </div>
                        </div>
                    </div>
                    <!-- second liner -->

                    <div style="display: flex;margin-top:45px;margin-left: 15px;gap:0.3rem;">
                        <div id="109" class="verticalSeat Non-AC">109</div>
                        <div id="110" class="verticalSeat Non-AC">110</div>
                        <div id="111" class="verticalSeat Non-AC">111</div>
                        <div id="112" class="verticalSeat Non-AC">112</div>
                        <div id="113" class="verticalSeat Non-AC">113</div>
                        <div id="114" class="verticalSeat Non-AC">114</div>
                        <div id="115" class="verticalSeat Non-AC">115</div>
                        <div id="116" class="verticalSeat Non-AC">116</div>
                        <div id="117" class="verticalSeat Non-AC">117</div>
                        <div id="118" class="verticalSeat Non-AC">118</div>
                        <div id="119" class="verticalSeat Non-AC">119</div>
                        <div id="120" class="verticalSeat Non-AC">120</div>
                        <div id="121" class="verticalSeat Non-AC">121</div>
                        <div id="122" class="verticalSeat Non-AC">122</div>
                        <div id="123" class="verticalSeat Non-AC">123</div>
                        <div id="124" class="verticalSeat Non-AC">124</div>
                    </div>
                </div>
                <!-- Middle line -->
                <div style="
      position: absolute;
      top: 16rem; /* Centered vertically in the 40rem box */
      left: 0;
      background-color: #E0E0E0;
      width: 100%; /* Full width of the main div */
      height: 0.5rem;
    ">
                </div>
            </div>

            <div
                style="position: absolute; bottom: 30rem; left: 54.5rem; height:35rem ; width: 0.5rem; background-color:#E0E0E0 ;">
                <!-- Door -->
                <div style="
              position: absolute;
              top: 11rem; 
              left: 0; 
              background-color: white;
              width: 100%; 
              height: 4rem; 
            "></div>
                <div style="
              position: absolute;
              top: 26rem; 
              left: 0; 
              background-color: white;
              width: 100%; 
              height: 4rem; 
            "></div>
            </div>
            <!-- connector -->
            <div
                style=" position:absolute; right:8rem; bottom:30rem; background-color: #E0E0E0;width: 4rem; height: 1.5rem;">
            </div>
            <div
                style=" position:absolute; right:8rem; top:10rem; background-color: #E0E0E0;width: 4rem; height: 1.5rem;">
            </div>
            <!-- vertical connector -->
            <div
                style="position: absolute;left:49rem;bottom: 40rem;background-color: #E0E0E0;width: 1.5rem;height:10rem; ">
            </div>
            <!-- toilet -->
            <div
                style=" position:absolute; right:12rem;bottom:30rem; background-color: white;  border-right: 0.5rem solid #E0E0E0; border-top: 1.5rem solid #E0E0E0; border-left: 1.5rem solid #E0E0E0; border-bottom: 1.5rem solid #E0E0E0; width:10rem; height: 10rem;">
                <p
                    style="position: absolute ; font-size:15px; font-weight: bold; top:3rem ;right:2rem;transform: rotate(90deg);">
                    TOILET</p>
                <div style="
              position: absolute;
              top: 4rem; 
              left: 8rem; 
              background-color:white;
              width:0.5rem; 
              height: 3rem; 
            "></div>
            </div>
            <!-- logo -->
            <!-- <img src="./logo1.png" alt="Logo" style="position: absolute; right: 23rem; bottom: 31rem; width: 9rem; height:7.5rem;"> -->

            <!-- waiting area -->
            <div
                style=" position:absolute; right:12rem;top:10rem; background-color: white; border-top: 1.5rem solid #E0E0E0; border-left: 1.5rem solid #E0E0E0; border-bottom: 1.5rem solid #E0E0E0; width:20rem; height: 15rem;">
                <p
                    style="position: absolute ; font-size:15PX; font-weight: bold; top:5rem ;left:1rem;transform: rotate(90deg);">
                    WAITING AREA</p>
                <p style="position: absolute ; font-size:15px; font-weight: bold; top:9rem ;left:10rem;">OFFICE COUNTER
                </p>

                <!-- pantry -->
                <div
                    style=" position:absolute; left:10.5rem; background-color: white;border-right: 0.5rem solid #E0E0E0; border-left: 0.5rem solid #E0E0E0; border-bottom: 0.5rem solid #E0E0E0; width:6.5rem; height: 5.5rem;">
                    <p style="position: absolute ; font-size:10px; font-weight: bold; top:3rem ;left:1rem;">
                        PANTRY/<br>DISCUSSION</p>
                    <div style="
              position: absolute;
              top: 0rem; 
              left: -0.5rem; 
              background-color: white;
              width: 0.5rem; 
              height: 2rem; 
            "></div>
                    <div style="
              position: absolute;
              top: 12rem; 
              right:10.6rem; 
              background-color:white;
              width:5rem; 
              height:2rem; 
            "></div>

                </div>

            </div>
            <!-- layout detail -->
            <!-- <div style="position: absolute; left: 55rem; bottom: 40rem; text-align: right;">
            <div style="position: relative; left: 3rem;">
                <p style="background-color: yellow; width: 60px; height: 30px; font-weight: bold; margin: 0; border: 1px solid black; display: flex; align-items: center; justify-content: center;">
                    A/C: 59
                </p>
                <p style="background-color: rgb(195, 115, 10); width: 60px; height: 30px; font-size: 10px; font-weight: bold; color: white; margin-top: 1rem; border: 1px solid black; display: flex; align-items: center; justify-content: center;">
                    Non A/C: 65
                </p>
            </div>
            <p style="color:orange;font-size: 10px; font-weight: bold; margin-top:1rem;">
                MANIKONDA, HYDERABAD<br>
                CABIN LAYOUT / FLOOR PLAN<br></p>
                <p style="font-size: 10px; font-weight: bold;">
                TOTAL APPROX CABINS: 124 </br>
                TOTAL APPROX LOCKERS: 70
            </p>
            </p>
        </div> -->

        </div>
    </div>
    <script>
        let seatsData
        const result = AxCallSqlDataAPI('AXPKEY000000010056', {})

        const response = JSON.parse(result)
        console.log(response['manikonda occupancy list'].rows)
        seatsData = response['manikonda occupancy list'].rows
        if (seatsData) {
            processSeatsData(seatsData)
        }

        let selectedSeat = null
        let isSeatSelected = false
        function processSeatsData(seatsData) {
            seatsData.forEach((seat) => {
                const seatDiv = document.getElementById(seat.seat_id)
                seatDiv.onclick = () => {
                    if (seat.booking_id) {
                        window.location.href = `../../aspx/tstruct.aspx?transid=bkngs&act=load&booking_id=${seat.booking_id}`
                    } else {
                        window.location.href = `../../aspx/tstruct.aspx?transid=bkngs`
                    }
                }
                setupSeat(seatDiv, seat)
                seatDiv.addEventListener('click', function () {
                    handleSeatSelection(seatDiv, seat)
                })
            })
        }

        function hideSeat(seatDiv) {
            seatDiv.style.backgroundColor = '#eeeeee'
            seatDiv.style.color = 'white'
            seatDiv.style.border = 'none'
            seatDiv.style.textContent = ''
        }

        function setupSeat(seatDiv, seat) {
            seatDiv.classList.add('seat', seat.status)
            seatDiv.style.cursor = seat.status === 'available' ? 'pointer' : 'default';

            // Clear existing content
            seatDiv.innerHTML = '';

            // Create tooltip container
            const tooltipContainer = document.createElement('div');
            tooltipContainer.className = 'tooltip-container';
            tooltipContainer.textContent = seat.seat_id;

            if (seat.status === 'booked' || seat.status === 'soon' || seat.status === 'expering') {
                // Create tooltip text
                const tooltipText = document.createElement('div');
                tooltipText.className = 'tooltip-text';
                tooltipText.innerHTML = `${seat.uname}<br>Booking Id: ${seat.booking_id}`;
                tooltipContainer.appendChild(tooltipText);
            }

            seatDiv.appendChild(tooltipContainer);
        }

        function handleSeatSelection(seatDiv, seat) {
            if (seat.status === 'available') {
                if (selectedSeat) {
                    selectedSeat.classList.remove('selected')
                }
                if (selectedSeat !== seatDiv) {
                    seatDiv.classList.add('selected')
                    selectedSeat = seatDiv
                    isSeatSelected = true
                } else {
                    selectedSeat = null
                    isSeatSelected = false
                }
            }
        }
    </script>

</body>

</html>